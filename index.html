<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset=utf-8 />
        <meta name='viewport' content='width=device-width, initial-scale=1'>

        <title>MuckRock | Mapbox</title>

        <link rel='stylesheet' href='./main.css' />
        <link href="https://api.mapbox.com/mapbox-assembly/v0.19.0/assembly.min.css" rel="stylesheet">
        <script async defer src="https://api.mapbox.com/mapbox-assembly/v0.19.0/assembly.js"></script>
        <script src='https://unpkg.com/vue'></script>
        <script src='https://api.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.css' rel='stylesheet' />
        <script src='./main.js'></script>
    </head>
    <body>
        <div id="app" class="relative">
            <div class='viewport-full relative scroll-hidden'>
                <div id="map" class='bg-darken10 viewport-twothirds viewport-full-ml absolute top left right bottom'></div>
                <div class='absolute top-ml left bottom z1 w-full w240-ml hmax-full px12 py12-ml' style="pointer-events: none;">

                    <div v-if="county" class='flex-parent flex-parent--column viewport-third h-auto-ml hmax-full bg-white round-ml shadow-darken10' style="pointer-events:auto;">
                        <div class="flex-child">
                            <h3 class='px12 py12 txt-m txt-bold'>Muck Rock Map</h3>
                        </div>

                        <div class='flex-child px12 py12 bg-gray-faint round-b-ml txt-bold'>
                            <div align="center">{{county.NAME}} County</div>
                        </div>

                        <div class="px12 py3 clearfix bg-white">
                            <div align="center"></div>
                        </div>

                        <div class='px12 py12 bg-gray-faint round-b-ml txt-s flex-child'>
                            <div align='center'><a href="http://muckrock.com">Powered MuckRock</a></div>
                        </div>
                    </div>
                    <div v-else class='flex-parent flex-parent--column viewport-third h-auto-ml hmax-full bg-white round-ml shadow-darken10' style="pointer-events:auto;">
                        <div class="flex-child">
                            <h3 class='px12 py12 txt-m txt-bold'>Muck Rock Map</h3>
                        </div>

                        <div class='flex-child px12 py12 bg-gray-faint round-b-ml txt-bold'>
                            <div align="center">No Selection</div>
                        </div>

                        <div class="px12 py3 clearfix bg-white">
                            <div align="center">Click a County</div>
                        </div>

                        <div class='px12 py12 bg-gray-faint round-b-ml txt-s flex-child'>
                            <div align='center'><a href="http://muckrock.com">Powered MuckRock</a></div>
                        </div>
                    </div>

                </div>

                <div v-if='!credentials.muckrock || modal.type === "login"' class='absolute top left bottom right z2 bg-black' style="pointer-events: none;">
                    <div class='flex-parent flex-parent--center-main flex-parent--center-cross h-full' style="pointer-events:auto;">
                        <div class="flex-child px12 py12 w600 h300 bg-white round-ml shadow-darken10">
                            <div class='grid w-full'>
                                <div class='col col--8'>
                                    <h3 class='fl py6 txt-m txt-bold w-full'>MuckRock Login</h3>
                                </div>
                                <div class='col col--4'>
                                    <button @click='modal.type = false'class='fr btn round bg-white color-black bg-darken25-on-hover'><svg class='icon'><use xlink:href='#icon-close'/></svg></button>
                                </div>

                                <div class='col col--12 py12'>
                                    <label>
                                        Username:
                                        <input v-model='modal.login.username' class='input py12' placeholder='username'/>
                                    </label>
                                </div>

                                <div class='col col--12 py12'>
                                    <label>
                                        Password:
                                        <input v-model='modal.login.password' type='password' class='input py12' placeholder='password'/>
                                    </label>
                                </div>

                                <div class='col col--12'>
                                    <div class='grid grid--gut12'>
                                        <div class='col col--6 py12'></div>

                                        <div class='col col--6 py12'>
                                            <button @click='login' class='btn round w-full'>Login</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
